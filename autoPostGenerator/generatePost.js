async function generatePost(){try{const t=(await openai.chat.completions.create({model:"gpt-4",messages:[{role:"user",content:prompt}]})).choices[0].message.content,e=`${today}-${topic.toLowerCase().replace(/\s+/g,"-")}.md`,n=path.join(__dirname,"../_posts",e),i=`---\nlayout: post\ntitle: "${topic}"\ndate: ${today}\ncategories: \ud504\ub860\ud2b8\uc5d4\ub4dc\ntags: ${topic.split(" ")[0]}\n---\n\n${t}\n`;fs.writeFileSync(n,i,"utf8"),topics[today]=topic,delete nextTopics[today],fs.writeFileSync(topicsFilePath,JSON.stringify(topics,null,2),"utf8"),fs.writeFileSync(nextTopicsFilePath,JSON.stringify(nextTopics,null,2),"utf8")}catch(t){}}require("dotenv").config();const fs=require("fs"),path=require("path"),OpenAI=require("openai"),topicsFilePath=path.join(__dirname,"topics.json"),nextTopicsFilePath=path.join(__dirname,"nextTopics.json"),topics=fs.existsSync(topicsFilePath)?JSON.parse(fs.readFileSync(topicsFilePath,"utf8")):{},nextTopics=fs.existsSync(nextTopicsFilePath)?JSON.parse(fs.readFileSync(nextTopicsFilePath,"utf8")):{},today=(new Date).toISOString().slice(0,10),topic=nextTopics[today]||"\uc6f9 \ud504\ub860\ud2b8\uc5d4\ub4dc \uae30\ucd08 \uc815\ub9ac",openai=new OpenAI({apiKey:process.env.OPENAI_API_KEY}),prompt=`\n\ub2f9\uc2e0\uc740 \uac1c\ubc1c \ube14\ub85c\uadf8 \uc791\uac00\uc785\ub2c8\ub2e4. \uc544\ub798 \uc8fc\uc81c\ub85c Jekyll \ube14\ub85c\uadf8\uc6a9 \uae00\uc744 Markdown \ud615\uc2dd\uc73c\ub85c \uc368\uc8fc\uc138\uc694.\n\n\uc81c\ubaa9: ${topic}\n\n\uc694\uad6c\uc0ac\ud56d:\n- \uac1c\ub150 \uc124\uba85 (500\uc790 \uc774\uc0c1)\n- \uc2e4\uc81c \ucf54\ub4dc \uc608\uc2dc (\ucf54\ub4dc\ub294 \`\`\`\ub85c \uac10\uc2f8\uae30)\n- \uc2e4\ubb34\uc5d0\uc11c \uc0ac\uc6a9\ud560 \ubc95\ud55c \uc608\uc2dc \ubc0f \uafc0\ud301 \n- \uc751\uc6a9\ubc84\uc804 \uc608\uc2dc \n- \uc644\uc804 \uc790\uc138\ud558\uac8c \uc801\uc5b4\uc918. \ub0b4\uc6a9\uc5d0 \ub300\ud55c \uc9c8\ubb38\uc744 2\ubc88\uc815\ub3c4 \ub354\ud55c\uac83\ucc98\ub7fc \uc124\uba85\uc744 \uc790\uc138\ud788, \uc608\uc2dc\ub3c4 \uc790\uc138\ud788 \ud574.\n- \uc81c\ubaa9\uc740 \ub0b4\uac00 \uc54c\uc544\uc11c \ud560\ud14c\ub2c8 \uadf8\ub0e5 \ucee8\ud150\ud2b8 \ub0b4\uc6a9\ub9cc \uc801\uc5b4. \n`;generatePost();